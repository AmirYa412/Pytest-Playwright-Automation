name: ðŸ§ª On-Demand Test Run
on:
  workflow_dispatch:
    inputs:
      env:
        description: 'Environment'
        required: true
        default: 'www'
        type: choice
        options: [www, qa, ci, dev]

      browser:
        description: 'Test marker'
        required: true
        default: 'chromium'
        type: choice
        options: [ chromium, firefox, webkit ]

      marker:
        description: 'Test marker'
        required: true
        default: 'regression'
        type: choice
        options: [regression, login, inventory]

      workers:
        description: 'Parallel execution workers amount'
        required: true
        default: '1'
        type: choice
        options: ["1", "2", "4"]



jobs:
  call-tests:
    uses: ./.github/workflows/_test_logic.yml
    with:
      env: ${{ inputs.env }}
      browser: ${{ inputs.browser }}
      marker: ${{ inputs.marker }}
      workers: ${{ inputs.workers}}
    secrets: inherit